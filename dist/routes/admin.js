"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.adminRouter = void 0;
const express_1 = require("express");
const auth_1 = require("../middleware/auth");
const rateLimiter_1 = require("../middleware/rateLimiter");
const adminReturns_1 = require("./adminReturns");
const adminPayouts_1 = require("./adminPayouts");
const adminPlatformRevenue_1 = require("./adminPlatformRevenue");
const adminOrdersController_1 = require("../controllers/adminOrdersController");
const adminAnalyticsController_1 = require("../controllers/adminAnalyticsController");
const adminControlController_1 = require("../controllers/adminControlController");
exports.adminRouter = (0, express_1.Router)();
exports.adminRouter.use(adminReturns_1.adminReturnsRouter);
exports.adminRouter.use(adminPayouts_1.adminPayoutsRouter);
exports.adminRouter.use(adminPlatformRevenue_1.adminPlatformRevenueRouter);
console.log("ROUTE_HANDLER_BOUND:", adminAnalyticsController_1.getAnalyticsOverview.toString().slice(0, 120));
exports.adminRouter.get("/orders/:orderId", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminOrdersController_1.getOrderDetailForAdmin);
exports.adminRouter.get("/orders", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminOrdersController_1.listOrdersForAdmin);
exports.adminRouter.get("/analytics/overview", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminAnalyticsController_1.getAnalyticsOverview);
exports.adminRouter.get("/analytics/orders", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminAnalyticsController_1.getAnalyticsOrders);
exports.adminRouter.get("/analytics/refunds", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminAnalyticsController_1.getAnalyticsRefunds);
exports.adminRouter.get("/analytics/quality-risk", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminAnalyticsController_1.getAnalyticsQualityRisk);
exports.adminRouter.get("/analytics/notifications", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminAnalyticsController_1.getAnalyticsNotifications);
exports.adminRouter.post("/system/finance-freeze", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminControlController_1.toggleFinanceFreeze);
exports.adminRouter.post("/system/jobs-enabled", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminControlController_1.toggleJobsEnabled);
exports.adminRouter.post("/sellers/:id/mode", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminControlController_1.updateSellerFinancialMode);
exports.adminRouter.post("/products/:id/block", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminControlController_1.blockProduct);
exports.adminRouter.post("/products/:id/unblock", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminControlController_1.unblockProduct);
exports.adminRouter.get("/system/cache-stats", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminControlController_1.getCacheStats);
exports.adminRouter.get("/metrics/queues", auth_1.requireAuth, rateLimiter_1.rateLimitProtected, (0, auth_1.requireRole)("admin"), adminControlController_1.getQueueMetrics);
//# sourceMappingURL=admin.js.map